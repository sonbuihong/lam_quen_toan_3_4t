import{_ as c,g as r}from"./index-Bruq3iIo.js";function m(){const o=(new URLSearchParams(window.location.search).get("e2e")||"").toLowerCase();return o==="1"||o==="true"}function n(a,o=1){const s=Number(a);return!Number.isFinite(s)||s<=0?o:Math.floor(s)}function f(a){if(!m())return;const o=c;o?.enable&&(o.enable(),window.__irukaSpy=o);const s=performance.now();window.__irukaTest={setTotal(t){r.setTotal(t)},startQ(t=1){for(let e=0;e<t;e++)r.startQuestionTimer()},finishQ(t=1){for(let e=0;e<t;e++)r.finishQuestionTimer()},makeWrong(t=1){t=n(t,1);for(let e=0;e<t;e++)r.recordWrong()},makeCorrect(t=1){t=n(t,1);for(let i=0;i<t;i++)r.recordCorrect({scoreDelta:1});const e=r.getStatsSnapshot();a.score(e.finalScore)},useHint(t=1){t=n(t,1);for(let e=0;e<t;e++)r.addHint()},finish(){r.finalizeAttempt();const t=r.prepareSubmitData(),e=Math.round(performance.now()-s);a.complete({score:t.finalScore,timeMs:e,extras:t})},snapshot(){return{stats:r.getStatsSnapshot(),submit:r.prepareSubmitData(),spySummary:o?.getSummary?.()}}}}export{f as installIrukaE2E,m as isE2EEnabled};
